@model IEnumerable<JCL_Web.Models.Usuario>

@{
    ViewBag.Title = "MostraUsuario";
}

<h2>Usuários</h2>

<p>
    @Html.ActionLink("Cadastrar", "CadastraUsuario", null, htmlAttributes: new { @class = "bntEd" })
</p>

<p>
    <form>
        <input type="text" id="pesquisa" name="nome">
        <button onclick="pesquisar()" type="submit"><i class="fas fa-search"></i></button>
    </form>
</p>

<table class="table">
    <tr>
        <th>
            @Html.DisplayNameFor(model => model.Nome)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Email)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Telefone)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Endereco)
        </th>
        <th>
            Tipo
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Regiao)
        </th>
        <th></th>
    </tr>

    @foreach (var item in Model)
    {
        <tr>
            <td>
                @Html.DisplayFor(modelItem => item.Nome)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Email)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Telefone)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Endereco)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.TipoUsuario)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Regiao)
            </td>
            <td>
                @if (Session["tipo_usuario"].Equals("gerente"))
                {
                    @Html.ActionLink("Editar", "EditarUsuario", new { id = item.Id }, htmlAttributes: new { @class = "bntEd" })
                }
            </td>
        </tr>
    }
</table>

<script>
    function pesquisar() {
        @TempData["pesquisaN"] = document.getElementById("#pesquisa").value
        if (@TempData["pesquisaN"] != null) {
        @Html.ActionLink("Mostra", "MostraUsuario", new { nome = TempData["pesquisaN"].ToString() })
        }
    }
</script>

<style>
    .bntEd {
        color: black;
        font-size: 17px;
    }

    #bntEd:hover {
        color: black;
        font-size: 17px;
    }

    .btnNovo {
        color: black;
    }

    .botaoNovo {
        color: black;
    }

    h2 {
        margin-top: 30px;
    }
</style>


